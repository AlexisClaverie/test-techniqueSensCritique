{"ast":null,"code":"const {\n  MysqlConnection\n} = require(\"../../repository/MysqlConnection\");\n\nconst Anime = require(\"../../models/animes\")(MysqlConnection);\n\nimport { gql } from \"@apollo/client\";\nexport default (async (req, res) => {\n  if (req.method === \"POST\") {\n    try {\n      const GET_ANIMES = gql`\n        query GetAnimes {\n          Page(page: 2, perPage: 50) {\n            pageInfo {\n              total\n              currentPage\n              lastPage\n              hasNextPage\n              perPage\n            }\n            media(type: ANIME) {\n              id\n              title {\n                english\n                romaji\n              }\n              episodes\n            }\n          }\n        }\n      `;\n      res.status(202).send(GET_ANIMES);\n    } catch (error) {\n      console.log({\n        message: error.message\n      });\n    }\n  }\n});","map":{"version":3,"sources":["/app/pages/api/animedb.js"],"names":["MysqlConnection","require","Anime","gql","req","res","method","GET_ANIMES","status","send","error","console","log","message"],"mappings":"AAAA,MAAM;AAAEA,EAAAA;AAAF,IAAsBC,OAAO,CAAC,kCAAD,CAAnC;;AACA,MAAMC,KAAK,GAAGD,OAAO,CAAC,qBAAD,CAAP,CAA+BD,eAA/B,CAAd;;AACA,SAASG,GAAT,QAAoB,gBAApB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,MAAID,GAAG,CAACE,MAAJ,KAAe,MAAnB,EAA2B;AACzB,QAAI;AACF,YAAMC,UAAU,GAAGJ,GAAI;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OApBM;AAqBAE,MAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,UAArB;AACD,KAvBD,CAuBE,OAAOG,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAY;AAAEC,QAAAA,OAAO,EAAEH,KAAK,CAACG;AAAjB,OAAZ;AACD;AACF;AACF,CA7BD","sourcesContent":["const { MysqlConnection } = require(\"../../repository/MysqlConnection\");\r\nconst Anime = require(\"../../models/animes\")(MysqlConnection);\r\nimport { gql } from \"@apollo/client\";\r\n\r\nexport default async (req, res) => {\r\n  if (req.method === \"POST\") {\r\n    try {\r\n      const GET_ANIMES = gql`\r\n        query GetAnimes {\r\n          Page(page: 2, perPage: 50) {\r\n            pageInfo {\r\n              total\r\n              currentPage\r\n              lastPage\r\n              hasNextPage\r\n              perPage\r\n            }\r\n            media(type: ANIME) {\r\n              id\r\n              title {\r\n                english\r\n                romaji\r\n              }\r\n              episodes\r\n            }\r\n          }\r\n        }\r\n      `;\r\n      res.status(202).send(GET_ANIMES);\r\n    } catch (error) {\r\n      console.log({ message: error.message });\r\n    }\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}