{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/app/components/AnimeList.jsx\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport Image from \"next/image\";\nimport { useEffect, useState } from \"react\";\nimport { gql, useQuery } from \"@apollo/client\";\nimport { flushSync } from \"react-dom\";\nimport { usePostFetch } from \"./hooks/useFetch\";\nexport const AnimeList = () => {\n  const {\n    0: count,\n    1: setCount\n  } = useState(10);\n  const GET_ANIMES = gql`\n    query GetAnimes {\n      Page(page: 1, perPage: ${count}) { \n        pageInfo {\n          total\n          currentPage\n          lastPage\n          hasNextPage\n          perPage\n        }\n        media(type: ANIME) {\n          id\n          title {\n            english\n            romaji\n          }\n          episodes\n        }\n      }\n    }\n  `;\n  const {\n    0: animes,\n    1: setAnimes\n  } = useState([]);\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(GET_ANIMES);\n  useEffect(() => {\n    if (data) {\n      flushSync(() => {\n        setAnimes(data.Page.media);\n      });\n      const {\n        data2\n      } = usePostFetch(\"http://localhost:3000/api/anime\", {\n        animes\n      });\n      console.log(data2);\n    }\n  }, [data]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"jsx-2835321890\" + \" \" + \"last-released\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"jsx-2835321890\",\n      children: \"Dernieres sorties\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"jsx-2835321890\" + \" \" + \"anime-card\",\n      children: animes && animes.map((anime, index) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"jsx-2835321890\" + \" \" + \"anime\",\n          children: [/*#__PURE__*/_jsxDEV(Image, {\n            src: `/animes/anime_default.jpg`,\n            alt: \"logo\",\n            width: 90,\n            height: 120,\n            className: \"anime-image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"jsx-2835321890\" + \" \" + \"anime-title\",\n            children: anime.title.english ? anime.title.english : anime.title.romaji\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"jsx-2835321890\" + \" \" + \"anime-score\",\n            children: [\"Note : \", anime.score ? anime.score : \"N/A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), count < 50 ? /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setCount(count + 10),\n      className: \"jsx-2835321890\" + \" \" + \"show-more\",\n      children: \"Voir plus\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this) : null, /*#__PURE__*/_jsxDEV(_JSXStyle, {\n      id: \"2835321890\",\n      children: \".last-released.jsx-2835321890{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin-bottom:20px;}.anime.jsx-2835321890{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:5px 0 5px 0;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;border-radius:5px;border:solid 1px #997af0;background-color:#f7f1f4;padding:5px;}.anime-title.jsx-2835321890,.anime-score.jsx-2835321890{margin:0 10px 0 10px;font-weight:600;}.show-more.jsx-2835321890{background-color:#997af0;color:white;padding:1rem 2rem;border:none;font-weight:bold;cursor:pointer;border-radius:0.4rem;font-size:1rem;text-transform:uppercase;-webkit-transition:0.5s ease-in-out;transition:0.5s ease-in-out;}.anime-image.jsx-2835321890{padding:6px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAvY29tcG9uZW50cy9BbmltZUxpc3QuanN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTZFa0IsQUFHd0IsQUFLQSxBQVdRLEFBSUksQUFZYixZQUNkLFNBaEJrQixJQUlKLFlBSGQsQUFJb0Isa0JBQ04sWUFDSyxPQXZCSyxBQUtILFVBbUJKLGVBQ00scUJBQ04sZUFDVSxpQkExQk4sUUEyQlMsT0F0QlQsSUFKckIsZUFLZ0Msc0NBc0JoQyw2RUFyQm9CLGtCQUNPLHlCQUNBLHlCQUNiLFlBQ2QiLCJmaWxlIjoiL2FwcC9jb21wb25lbnRzL0FuaW1lTGlzdC5qc3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSW1hZ2UgZnJvbSBcIm5leHQvaW1hZ2VcIjtcclxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyBncWwsIHVzZVF1ZXJ5IH0gZnJvbSBcIkBhcG9sbG8vY2xpZW50XCI7XHJcbmltcG9ydCB7IGZsdXNoU3luYyB9IGZyb20gXCJyZWFjdC1kb21cIjtcclxuaW1wb3J0IHsgdXNlUG9zdEZldGNoIH0gZnJvbSBcIi4vaG9va3MvdXNlRmV0Y2hcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBBbmltZUxpc3QgPSAoKSA9PiB7XHJcbiAgY29uc3QgW2NvdW50LCBzZXRDb3VudF0gPSB1c2VTdGF0ZSgxMCk7XHJcbiAgY29uc3QgR0VUX0FOSU1FUyA9IGdxbGBcclxuICAgIHF1ZXJ5IEdldEFuaW1lcyB7XHJcbiAgICAgIFBhZ2UocGFnZTogMSwgcGVyUGFnZTogJHtjb3VudH0pIHsgXHJcbiAgICAgICAgcGFnZUluZm8ge1xyXG4gICAgICAgICAgdG90YWxcclxuICAgICAgICAgIGN1cnJlbnRQYWdlXHJcbiAgICAgICAgICBsYXN0UGFnZVxyXG4gICAgICAgICAgaGFzTmV4dFBhZ2VcclxuICAgICAgICAgIHBlclBhZ2VcclxuICAgICAgICB9XHJcbiAgICAgICAgbWVkaWEodHlwZTogQU5JTUUpIHtcclxuICAgICAgICAgIGlkXHJcbiAgICAgICAgICB0aXRsZSB7XHJcbiAgICAgICAgICAgIGVuZ2xpc2hcclxuICAgICAgICAgICAgcm9tYWppXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlcGlzb2Rlc1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIGA7XHJcbiAgY29uc3QgW2FuaW1lcywgc2V0QW5pbWVzXSA9IHVzZVN0YXRlKFtdKTtcclxuICBjb25zdCB7IGxvYWRpbmcsIGVycm9yLCBkYXRhIH0gPSB1c2VRdWVyeShHRVRfQU5JTUVTKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChkYXRhKSB7XHJcbiAgICAgIGZsdXNoU3luYygoKSA9PiB7XHJcbiAgICAgICAgc2V0QW5pbWVzKGRhdGEuUGFnZS5tZWRpYSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zdCB7IGRhdGEyIH0gPSB1c2VQb3N0RmV0Y2goXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FuaW1lXCIsIHtcclxuICAgICAgICBhbmltZXMsXHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zb2xlLmxvZyhkYXRhMik7XHJcbiAgICB9XHJcbiAgfSwgW2RhdGFdKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwibGFzdC1yZWxlYXNlZFwiPlxyXG4gICAgICA8aDM+RGVybmllcmVzIHNvcnRpZXM8L2gzPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1lLWNhcmRcIj5cclxuICAgICAgICB7YW5pbWVzICYmXHJcbiAgICAgICAgICBhbmltZXMubWFwKChhbmltZSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1lXCIga2V5PXtpbmRleH0+XHJcbiAgICAgICAgICAgICAgICA8SW1hZ2VcclxuICAgICAgICAgICAgICAgICAgc3JjPXtgL2FuaW1lcy9hbmltZV9kZWZhdWx0LmpwZ2B9XHJcbiAgICAgICAgICAgICAgICAgIGFsdD17XCJsb2dvXCJ9XHJcbiAgICAgICAgICAgICAgICAgIHdpZHRoPXs5MH1cclxuICAgICAgICAgICAgICAgICAgaGVpZ2h0PXsxMjB9XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFuaW1lLWltYWdlXCJcclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJhbmltZS10aXRsZVwiPlxyXG4gICAgICAgICAgICAgICAgICB7YW5pbWUudGl0bGUuZW5nbGlzaFxyXG4gICAgICAgICAgICAgICAgICAgID8gYW5pbWUudGl0bGUuZW5nbGlzaFxyXG4gICAgICAgICAgICAgICAgICAgIDogYW5pbWUudGl0bGUucm9tYWppfVxyXG4gICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiYW5pbWUtc2NvcmVcIj5cclxuICAgICAgICAgICAgICAgICAgTm90ZSA6IHthbmltZS5zY29yZSA/IGFuaW1lLnNjb3JlIDogXCJOL0FcIn1cclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH0pfVxyXG4gICAgICA8L2Rpdj5cclxuICAgICAge2NvdW50IDwgNTAgPyAoXHJcbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRDb3VudChjb3VudCArIDEwKX0gY2xhc3NOYW1lPVwic2hvdy1tb3JlXCI+XHJcbiAgICAgICAgICBWb2lyIHBsdXNcclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgKSA6IG51bGx9XHJcblxyXG4gICAgICA8c3R5bGUganN4PntgXHJcbiAgICAgICAgLmxhc3QtcmVsZWFzZWQge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gICAgICAgIH1cclxuICAgICAgICAuYW5pbWUge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICBtYXJnaW46IDVweCAwIDVweCAwO1xyXG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgICAgICAgYm9yZGVyOiBzb2xpZCAxcHggIzk5N2FmMDtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmN2YxZjQ7XHJcbiAgICAgICAgICBwYWRkaW5nOiA1cHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5hbmltZS10aXRsZSxcclxuICAgICAgICAuYW5pbWUtc2NvcmUge1xyXG4gICAgICAgICAgbWFyZ2luOiAwIDEwcHggMCAxMHB4O1xyXG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLnNob3ctbW9yZSB7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjOTk3YWYwO1xyXG4gICAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgcGFkZGluZzogMXJlbSAycmVtO1xyXG4gICAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAwLjRyZW07XHJcbiAgICAgICAgICBmb250LXNpemU6IDFyZW07XHJcbiAgICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gICAgICAgICAgdHJhbnNpdGlvbjogMC41cyBlYXNlLWluLW91dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLmFuaW1lLWltYWdlIHtcclxuICAgICAgICAgIHBhZGRpbmc6IDZweDtcclxuICAgICAgICB9XHJcbiAgICAgIGB9PC9zdHlsZT5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn07XHJcbiJdfQ== */\\n/*@ sourceURL=/app/components/AnimeList.jsx */\"\n    }, void 0, false, void 0, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};","map":{"version":3,"sources":["/app/components/AnimeList.jsx"],"names":["Image","useEffect","useState","gql","useQuery","flushSync","usePostFetch","AnimeList","count","setCount","GET_ANIMES","animes","setAnimes","loading","error","data","Page","media","data2","console","log","map","anime","index","title","english","romaji","score"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,YAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,GAAT,EAAcC,QAAd,QAA8B,gBAA9B;AACA,SAASC,SAAT,QAA0B,WAA1B;AACA,SAASC,YAAT,QAA6B,kBAA7B;AAEA,OAAO,MAAMC,SAAS,GAAG,MAAM;AAC7B,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBP,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAMQ,UAAU,GAAGP,GAAI;AACzB;AACA,+BAA+BK,KAAM;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GApBE;AAqBA,QAAM;AAAA,OAACG,MAAD;AAAA,OAASC;AAAT,MAAsBV,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM;AAAEW,IAAAA,OAAF;AAAWC,IAAAA,KAAX;AAAkBC,IAAAA;AAAlB,MAA2BX,QAAQ,CAACM,UAAD,CAAzC;AAEAT,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIc,IAAJ,EAAU;AACRV,MAAAA,SAAS,CAAC,MAAM;AACdO,QAAAA,SAAS,CAACG,IAAI,CAACC,IAAL,CAAUC,KAAX,CAAT;AACD,OAFQ,CAAT;AAGA,YAAM;AAAEC,QAAAA;AAAF,UAAYZ,YAAY,CAAC,iCAAD,EAAoC;AAChEK,QAAAA;AADgE,OAApC,CAA9B;AAGAQ,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF,GAVQ,EAUN,CAACH,IAAD,CAVM,CAAT;AAYA,sBACE;AAAA,wCAAe,eAAf;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAA,0CAAe,YAAf;AAAA,gBACGJ,MAAM,IACLA,MAAM,CAACU,GAAP,CAAW,CAACC,KAAD,EAAQC,KAAR,KAAkB;AAC3B,4BACE;AAAA,8CAAe,OAAf;AAAA,kCACE,QAAC,KAAD;AACE,YAAA,GAAG,EAAG,2BADR;AAEE,YAAA,GAAG,EAAE,MAFP;AAGE,YAAA,KAAK,EAAE,EAHT;AAIE,YAAA,MAAM,EAAE,GAJV;AAKE,YAAA,SAAS,EAAC;AALZ;AAAA;AAAA;AAAA;AAAA,kBADF,eAQE;AAAA,gDAAa,aAAb;AAAA,sBACGD,KAAK,CAACE,KAAN,CAAYC,OAAZ,GACGH,KAAK,CAACE,KAAN,CAAYC,OADf,GAEGH,KAAK,CAACE,KAAN,CAAYE;AAHlB;AAAA;AAAA;AAAA;AAAA,kBARF,eAaE;AAAA,gDAAa,aAAb;AAAA,kCACUJ,KAAK,CAACK,KAAN,GAAcL,KAAK,CAACK,KAApB,GAA4B,KADtC;AAAA;AAAA;AAAA;AAAA;AAAA,kBAbF;AAAA,WAA4BJ,KAA5B;AAAA;AAAA;AAAA;AAAA,gBADF;AAmBD,OApBD;AAFJ;AAAA;AAAA;AAAA;AAAA,YAFF,EA0BGf,KAAK,GAAG,EAAR,gBACC;AAAQ,MAAA,OAAO,EAAE,MAAMC,QAAQ,CAACD,KAAK,GAAG,EAAT,CAA/B;AAAA,0CAAuD,WAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,GAIG,IA9BN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAwED,CA9GM","sourcesContent":["import Image from \"next/image\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { gql, useQuery } from \"@apollo/client\";\r\nimport { flushSync } from \"react-dom\";\r\nimport { usePostFetch } from \"./hooks/useFetch\";\r\n\r\nexport const AnimeList = () => {\r\n  const [count, setCount] = useState(10);\r\n  const GET_ANIMES = gql`\r\n    query GetAnimes {\r\n      Page(page: 1, perPage: ${count}) { \r\n        pageInfo {\r\n          total\r\n          currentPage\r\n          lastPage\r\n          hasNextPage\r\n          perPage\r\n        }\r\n        media(type: ANIME) {\r\n          id\r\n          title {\r\n            english\r\n            romaji\r\n          }\r\n          episodes\r\n        }\r\n      }\r\n    }\r\n  `;\r\n  const [animes, setAnimes] = useState([]);\r\n  const { loading, error, data } = useQuery(GET_ANIMES);\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      flushSync(() => {\r\n        setAnimes(data.Page.media);\r\n      });\r\n      const { data2 } = usePostFetch(\"http://localhost:3000/api/anime\", {\r\n        animes,\r\n      });\r\n      console.log(data2);\r\n    }\r\n  }, [data]);\r\n\r\n  return (\r\n    <div className=\"last-released\">\r\n      <h3>Dernieres sorties</h3>\r\n      <div className=\"anime-card\">\r\n        {animes &&\r\n          animes.map((anime, index) => {\r\n            return (\r\n              <div className=\"anime\" key={index}>\r\n                <Image\r\n                  src={`/animes/anime_default.jpg`}\r\n                  alt={\"logo\"}\r\n                  width={90}\r\n                  height={120}\r\n                  className=\"anime-image\"\r\n                />\r\n                <p className=\"anime-title\">\r\n                  {anime.title.english\r\n                    ? anime.title.english\r\n                    : anime.title.romaji}\r\n                </p>\r\n                <p className=\"anime-score\">\r\n                  Note : {anime.score ? anime.score : \"N/A\"}\r\n                </p>\r\n              </div>\r\n            );\r\n          })}\r\n      </div>\r\n      {count < 50 ? (\r\n        <button onClick={() => setCount(count + 10)} className=\"show-more\">\r\n          Voir plus\r\n        </button>\r\n      ) : null}\r\n\r\n      <style jsx>{`\r\n        .last-released {\r\n          display: flex;\r\n          flex-direction: column;\r\n          margin-bottom: 20px;\r\n        }\r\n        .anime {\r\n          display: flex;\r\n          align-items: center;\r\n          margin: 5px 0 5px 0;\r\n          justify-content: space-between;\r\n          border-radius: 5px;\r\n          border: solid 1px #997af0;\r\n          background-color: #f7f1f4;\r\n          padding: 5px;\r\n        }\r\n        .anime-title,\r\n        .anime-score {\r\n          margin: 0 10px 0 10px;\r\n          font-weight: 600;\r\n        }\r\n        .show-more {\r\n          background-color: #997af0;\r\n          color: white;\r\n          padding: 1rem 2rem;\r\n          border: none;\r\n          font-weight: bold;\r\n          cursor: pointer;\r\n          border-radius: 0.4rem;\r\n          font-size: 1rem;\r\n          text-transform: uppercase;\r\n          transition: 0.5s ease-in-out;\r\n        }\r\n        .anime-image {\r\n          padding: 6px;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}